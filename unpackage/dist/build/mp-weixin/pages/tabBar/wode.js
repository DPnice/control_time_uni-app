(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/wode"],{"276b":function(n,e,t){"use strict";(function(n){t("b6f5");o(t("66fd"));var e=o(t("95f5"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},"34d3":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t("2152"),r=new o.AppModel,i={data:function(){return{hasUserInfo:!1,userInfo:{},userInfoMsg:{},isLoginText:"登录"}},onLoad:function(){var e=n.getStorageSync("userInfo");console.log("用户信息",e),""!==e?(this.hasUserInfo=!0,this.userInfo=e,this.isLoginText="退出"):(this.hasUserInfo=!1,this.isLoginText="登录",this.userInfo={nickName:"未登录",avatarUrl:"../../static/touxiang.png"})},methods:{updateUser:function(){var e=n.getStorageSync("userInfo");r.updateUser(e,(function(e){n.showToast({title:"同步成功",duration:500,image:"/static/yes.png"})}),(function(e){n.showToast({title:"同步失败请重试",duration:500,image:"/static/no.png"})}))},switch1Change:function(e){var t=n.getStorageSync("userInfo");e.detail.value?t.look="0":t.look="1",n.setStorageSync("userInfo",t),this.updateUser(),console.log("switch1 发生 change 事件，携带值为",e.detail.value)},mpGetUserInfo:function(e){var t=this;console.log("mpGetUserInfo",e),n.startSoterAuthentication({requestAuthModes:["fingerPrint"],challenge:"123456",authContent:"请用指纹解锁",success:function(o){"getUserInfo:ok"===e.detail.errMsg?(t.userInfoMsg=e.detail.userInfo,t.login()):n.showModal({title:"获取用户信息失败",content:"错误原因"+e.detail.errMsg,showCancel:!1})},fail:function(o){90008!==o.errCode&&90010!==o.errCode?(t.userInfoMsg=e.detail.userInfo,t.login()):n.showModal({content:"指纹验证失败，errCode："+o.errCode,showCancel:!1})}})},login:function(){if(!0===this.hasUserInfo)this.isLoginText="登录",this.hasUserInfo=!1,this.userInfo={nickName:"未登录",avatarUrl:"../../static/touxiang.png"},n.removeStorageSync("userInfo");else{var e=this;n.showLoading({mask:!1,title:"正在登录"}),n.login({provider:"weixin",success:function(t){var o=t.code;console.log("userInfoMsg:",e.userInfoMsg),e.userInfoMsg.code=o,console.log("微信登录:",t),r.login(e.userInfoMsg,(function(t){e.loading=!1,console.log("登录返回:",t.data),e.hasUserInfo=!0,e.userInfo=t.data,e.isLoginText="退出",n.setStorageSync("userInfo",e.userInfo),n.hideLoading()}),(function(e){n.hideLoading(),n.showToast({title:"登录失败",duration:2e3,image:"/static/no.png"})}))},fail:function(e){this.isLoginText="登录",n.hideLoading()}})}},checkIsSoterEnrolledInDeviceFingerPrint:function(){return n.checkIsSoterEnrolledInDevice({checkAuthMode:"fingerPrint",success:function(n){return!!n.isEnrolled},fail:function(n){return!1}})},startSoterAuthenticationFingerPrint:function(){return n.startSoterAuthentication({requestAuthModes:["fingerPrint"],challenge:"123456",authContent:"请用指纹解锁",success:function(n){return!0},fail:function(e){return n.showModal({content:"指纹验证失败，errCode："+e.errCode,showCancel:!1}),!1}})}}};e.default=i}).call(this,t("543d")["default"])},"420e":function(n,e,t){},"610b":function(n,e,t){"use strict";t.r(e);var o=t("34d3"),r=t.n(o);for(var i in o)"default"!==i&&function(n){t.d(e,n,(function(){return o[n]}))}(i);e["default"]=r.a},6961:function(n,e,t){},"6e22":function(n,e,t){"use strict";var o=t("420e"),r=t.n(o);r.a},"95f5":function(n,e,t){"use strict";t.r(e);var o=t("ff3c"),r=t("610b");for(var i in r)"default"!==i&&function(n){t.d(e,n,(function(){return r[n]}))}(i);t("6e22"),t("efe2");var s,a=t("f0c5"),u=Object(a["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=u.exports},efe2:function(n,e,t){"use strict";var o=t("6961"),r=t.n(o);r.a},ff3c:function(n,e,t){"use strict";var o,r=function(){var n=this,e=n.$createElement;n._self._c},i=[];t.d(e,"b",(function(){return r})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return o}))}},[["276b","common/runtime","common/vendor"]]]);